[env:uno]
platform = atmelavr
board = uno
framework = arduino

; Serial monitor settings
monitor_speed = 115200
monitor_filters = default

; Build flags - optimize for size (critical for UNO's 2KB RAM)
build_flags = 
    -DLED_USE_FASTLED
    -Os                    ; Optimize for size
    -ffunction-sections    ; Enable dead code elimination
    -fdata-sections        ; Enable dead data elimination
    -Wall                  ; Enable warnings

; Remove default optimization flags
build_unflags = 
    -O0                    ; Remove default optimization

; Library dependencies (pinned versions for motion-first firmware)
lib_deps = 
    fastled/FastLED@^3.6.0
    bblanchon/ArduinoJson@^6.21.3
    arduino-libraries/Servo@^1.3.0
    ; Note: IMU uses raw I2C (Wire library), no external library needed
    ; Note: IRremote (z3t0/IRremote) only if needed later - don't block motion MVP

; Upload settings (auto-detect if empty, or uncomment and set manually)
; upload_port = COM5
upload_speed = 115200

; Debug environment with additional debug flags
[env:uno_debug]
extends = env:uno
build_flags = 
    ${env:uno.build_flags}
    -DDEBUG=1
    -g
    -O0                    ; No optimization for debugging
build_unflags = 
    -Os                    ; Remove size optimization for debug

